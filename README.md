# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Описание

API.ts — это класс, который предоставляет методы для выполнения запросов GET и POST к серверу. Он может быть использован для создания абстракции над сетевыми запросами, что упрощает работу с API и делает код более читаемым.

Методы
- get(uri: string) — выполняет запрос GET к указанному URI. Возвращает ответ от сервера в виде объекта JSON.
- post(uri: string, data: object) — выполняет запрос POST к указанному URI с данными, переданными в параметре data. Возвращает ответ от * сервера в виде объекта JSON.

Параметры
- baseUrl — базовый URL, к которому будут добавляться остальные URI.
- options — объект с настройками запроса. Может содержать следующие поля:
- headers — заголовки запроса;
- method — метод запроса (GET или POST).

Компонент `Basket` представляет собой корневой элемент корзины. Он содержит список товаров, общую стоимость и кнопку оформления заказа. 

Свойства:
* `list`: Массив HTML-элементов, представляющих товары в корзине.
* `price`: Общая стоимость товаров в корзине.

Методы:
* `set price(price: number)`: Устанавливает цену корзины.
* `set list(items: HTMLElement[])`: Устанавливает список товаров в корзине.
* `disableButton()`: Деактивирует кнопку оформления заказа.
* `refreshIndices()`: Обновляет индексы товаров в списке.

События:
* `basket:order`: Срабатывает при клике на кнопку оформления заказа.

Компонент `Card` представляет собой базовую карточку товара. Она содержит информацию о товаре, включая название, категорию, описание, изображение, цену и возможность выбора.

Свойства:
* `id`: Идентификатор товара.
* `title`: Название товара.
* `category`: Категория товара.
* `description`: Описание товара.
* `*mage`: URL изображения товара.
* `price`: Цена товара (может быть null для товаров с неопределенной ценой).
* `selected`: Флаг, указывающий на то, выбран ли товар.

Методы:
* `set id(value: string)`: Устанавливает идентификатор товара.
* `get id(): string`: Возвращает идентификатор товара.
* `set title(value: string)`: Устанавливает название товара.
* `get title(): string`: Возвращает название товара.
* `set image(value: string)`: Устанавливает URL изображения товара.
* `set selected(value: boolean)`: Устанавливает флаг выбора товара.
* `set price(value: number | null)`: Устанавливает цену товара.
* `set category(value: CategoryType)`: Устанавливает категорию товара.

События:
* `click`: Срабатывает при клике на карточку (если actions.onClick определен).

Компонент `Order` представляет собой форму заказа, которая позволяет пользователю выбрать адрес доставки и способ оплаты.

Свойства:
* `address`: Адрес доставки.
* `payment`: Способ оплаты.

Методы:
* `disableButtons()`: Деактивирует кнопки выбора способа оплаты.

События:
* `form:submit`: Срабатывает при отправке формы.

Компонент `Contacts` представляет собой форму контактов, которая позволяет пользователю ввести свой номер телефона и адрес электронной почты.

Свойства:
* `phone`: Номер телефона.
* `email`: Адрес электронной почты.

Методы:
* (Наследуемые от `Form`):
    * `validate()`: Проверяет данные формы на корректность.
    * `submit()`: Отправляет данные формы.
    * `reset()`: Сбрасывает форму.
    * `onInputChange(name: string, value: any)`: Обрабатывает изменения в данных формы.
    * `onInputBlur(name: string, value: any)`: Обрабатывает потерю фокуса в поле формы.

События:
* `form:submit`: Срабатывает при отправке формы.

Компонент `Page` представляет собой основной элемент страницы, который содержит различные элементы, такие как корзина, счетчик товаров и магазин.

Свойства:
* `counter`: Количество товаров в корзине.
* `store`: Массив HTML-элементов, представляющих товары в магазине.
* `locked`: Флаг, указывающий на то, заблокирована ли страница.

Методы:
* `set counter(value: number)`: Устанавливает количество товаров в корзине.
* `set store(items: HTMLElement[])`: Устанавливает список товаров в магазине.
* `set locked(value: boolean)`: Устанавливает флаг блокировки страницы.

События:
* `basket:open`: Срабатывает при клике на корзину.

Компонент `Success` представляет собой модальное окно, которое отображает информацию о том, сколько синапсов было списано.

Свойства:
* `description`: Сумма списанных синапсов.

Методы:
* `set description(value: number)`: Устанавливает сумму списанных синапсов.

События:
* `click`: Срабатывает при клике на кнопку закрытия модального окна (если `actions.onClick` определен).